(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{415:function(t,a,e){"use strict";e.r(a);var i=e(50),r=Object(i.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"container-設定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#container-設定"}},[t._v("#")]),t._v(" Container 設定")]),t._v(" "),e("p",[t._v("Container 類型的 Helm 文件一共有七大區塊需要分別進行設定，分別是：\n")]),e("div",{staticClass:"table-of-contents"},[e("ul",[e("li",[e("a",{attrs:{href:"#overview"}},[t._v("Overview")])]),e("li",[e("a",{attrs:{href:"#description"}},[t._v("Description")])]),e("li",[e("a",{attrs:{href:"#containers"}},[t._v("Containers")])]),e("li",[e("a",{attrs:{href:"#reverse-proxy"}},[t._v("Reverse Proxy")])]),e("li",[e("a",{attrs:{href:"#authentication"}},[t._v("Authentication")])]),e("li",[e("a",{attrs:{href:"#high-availability"}},[t._v("High Availability")])]),e("li",[e("a",{attrs:{href:"#license"}},[t._v("License")])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"overview"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[t._v("#")]),t._v(" Overview")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/overview.png",alt:"overview"}})]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Version")]),t._v("：為發佈 SaaS 應用的版號")]),t._v(" "),e("li",[e("strong",[t._v("Containers")]),t._v("：單一專案內可包含數個鏡像檔，此處將每一個鏡像的相關設定匯整呈現。")])]),t._v(" "),e("h2",{attrs:{id:"description"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#description"}},[t._v("#")]),t._v(" Description")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/description.png",alt:"Description"}})]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Description")]),t._v("：填寫有關此專案的介紹文字")]),t._v(" "),e("li",[e("strong",[t._v("Entrypoint")]),t._v("：告知應用的進入點(Eg. https://x.x.x.x/index.html)")]),t._v(" "),e("li",[e("strong",[t._v("Icon")]),t._v("：專案的代表圖示")]),t._v(" "),e("li",[e("strong",[t._v("Dependencies")]),t._v("：可選取與此專案相依的其他專案及版本號")])]),t._v(" "),e("h2",{attrs:{id:"containers"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#containers"}},[t._v("#")]),t._v(" Containers")]),t._v(" "),e("p",[t._v("Containers 區塊的總覽如下圖，點擊 "),e("button",{staticStyle:{border:"none",background:"#3d9df8",color:"white",padding:"4px 16px","border-radius":"3px"}},[t._v(" + Add Container ")]),t._v(" 可新增多個容器。\n以下針對 Containers 的各個子項目逐一設定。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/containers.png",alt:"Containers"}})]),t._v(" "),e("h3",{attrs:{id:"container-name"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#container-name"}},[t._v("#")]),t._v(" Container Name")]),t._v(" "),e("p",[t._v("容器名稱：限定英文小寫、數字和連接號 (dash)。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/containerName.png",alt:"Container Name"}})]),t._v(" "),e("h3",{attrs:{id:"type"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#type"}},[t._v("#")]),t._v(" Type")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/type_regular.png",alt:"Type"}})]),t._v(" "),e("ul",[e("li",[t._v("選定容器的類型，可選擇 regular 或 init。")]),t._v(" "),e("li",[t._v("所有的 Helm 容器中，僅允許設置一個容器為 init 類型。")]),t._v(" "),e("li",[t._v("若選定容器類型為 init，則僅需填寫以下資訊：\n"),e("img",{attrs:{src:"/amUserGuide/img/page/container/type_init.png",alt:""}})])]),t._v(" "),e("h3",{attrs:{id:"image-and-tag"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#image-and-tag"}},[t._v("#")]),t._v(" Image and Tag")]),t._v(" "),e("p",[t._v("選定容器所使用的鏡像檔與標籤。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/image_tag.png",alt:"Image"}})]),t._v(" "),e("h3",{attrs:{id:"start-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#start-command"}},[t._v("#")]),t._v(" Start Command")]),t._v(" "),e("p",[t._v("設定容器的啟動命令。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/startCmd.png",alt:"Start Command"}})]),t._v(" "),e("h3",{attrs:{id:"ports"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ports"}},[t._v("#")]),t._v(" Ports")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/ports.png",alt:"Ports"}})]),t._v(" "),e("ul",[e("li",[e("p",[t._v("點擊 "),e("button",{staticStyle:{border:"3px solid #344966",background:"#111f2f",color:"white",padding:"4px 18px","border-radius":"3px"}},[t._v(" + Add Port ")]),t._v(" 新增通訊埠")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("範圍：0-65535 之間")])]),t._v(" "),e("li",[e("p",[t._v("Protocol")]),t._v(" "),e("ul",[e("li",[t._v("Container Port：當容器對外僅允許內網其它 SaaS 應用連線時使用")]),t._v(" "),e("li",[t._v("HTTP/Reverse Proxy：當容器對外通訊採用 HTTP 時使用")]),t._v(" "),e("li",[t._v("HTTPS/Reverse Proxy：當容器對外通訊採用 HTTPS 時使用")]),t._v(" "),e("li",[t._v("TCP：當容器對外走非 HTTP 的 TCP 協定時使用")]),t._v(" "),e("li",[t._v("UDP：當容器對外走 UDP 協定時使用")]),t._v(" "),e("li",[t._v("SCTP：當容器對外 SCTP 協定時使用")])])]),t._v(" "),e("li",[e("p",[t._v("同 Pod 間容器溝通的路徑")]),t._v(" "),e("ul",[e("li",[t._v("預設：http://127.0.0.1:{port}")])])]),t._v(" "),e("li",[e("p",[t._v("Pod 與 Pod 間溝通的路徑")]),t._v(" "),e("ul",[e("li",[t._v("預設：http://{application_name}:{port}")]),t._v(" "),e("li",[t._v("例如：http://grafana:3000")])])])])])]),t._v(" "),e("h3",{attrs:{id:"envs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#envs"}},[t._v("#")]),t._v(" Envs")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/env.png",alt:"Envs"}})]),t._v(" "),e("ul",[e("li",[t._v("點擊 "),e("button",{staticStyle:{border:"3px solid #344966",background:"#111f2f",color:"white",padding:"4px 18px","border-radius":"3px"}},[t._v(" + Add Env ")]),t._v(" 新增環境變數。")]),t._v(" "),e("li",[t._v("key 值限定英文為起始字元，可使用數字、底線、連接號 (dash)、點 (dot)。")]),t._v(" "),e("li",[t._v("value 值不須用引號(”)括住。")])]),t._v(" "),e("h3",{attrs:{id:"mounts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mounts"}},[t._v("#")]),t._v(" Mounts")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/mounts.png",alt:"Mounts"}})]),t._v(" "),e("ul",[e("li",[t._v("點擊 "),e("button",{staticStyle:{border:"3px solid #344966",background:"#111f2f",color:"white",padding:"4px 18px","border-radius":"3px"}},[t._v(" + Add Mount ")]),t._v(" 新增掛載路徑，亦須同時設定儲存空間的大小。")]),t._v(" "),e("li",[t._v("此掛載路徑為容器內路徑。以 MySQL 為例，若要保存資料庫的資料，可以在 Mount Path 中填寫 "),e("code",[t._v("/var/lib/mysql")]),t._v("。")]),t._v(" "),e("li",[t._v("此外掛硬碟設定在實作上，是當容器"),e("strong",[t._v("初次啟動")]),t._v("時，系統建立一個"),e("strong",[t._v("新的資料夾")]),t._v("外掛至容器內指定路徑中。當後續"),e("strong",[t._v("再次啟動")]),t._v("時，系統會重複外掛"),e("strong",[t._v("同一個資料夾")]),t._v("至指定路徑。")]),t._v(" "),e("li",[t._v("系統預設在每個容器內建立 /podShareData 的資料夾，讓容器彼此間能共享相同的檔案。")])]),t._v(" "),e("h3",{attrs:{id:"configs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#configs"}},[t._v("#")]),t._v(" Configs")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/configs.png",alt:"Configs"}})]),t._v(" "),e("ul",[e("li",[t._v("點擊 "),e("button",{staticStyle:{border:"3px solid #344966",background:"#111f2f",color:"white",padding:"4px 18px","border-radius":"3px"}},[t._v(" + Add Configs ")]),t._v(" 新增配置。")]),t._v(" "),e("li",[t._v("配置的路徑為固定，僅需填入配置名稱和配置內容。")])]),t._v(" "),e("h3",{attrs:{id:"resources"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resources"}},[t._v("#")]),t._v(" Resources")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/resources.png",alt:"Resources"}})]),t._v(" "),e("ul",[e("li",[t._v("可設定 CPU 和 Memory 的需求值以及上限值")]),t._v(" "),e("li",[t._v("Memory 的單位可透過右側的下拉式選單調整(Mi 或 Gi)")]),t._v(" "),e("li",[t._v("系統預設：\n"),e("ul",[e("li",[t._v("CPU：0.-0.1 cores。Limit 值最小為 0.1 cores")]),t._v(" "),e("li",[t._v("Memory：0-512 Mi。Limit 值最小為 4 Mi")])])])]),t._v(" "),e("h3",{attrs:{id:"advance"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#advance"}},[t._v("#")]),t._v(" Advance")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/advance.png",alt:"Advance"}})]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Host GUI Application")]),t._v(" "),e("ul",[e("li",[t._v("若應用服務是屬於 Windows GUI 應用程式，就必須勾選此項目。")]),t._v(" "),e("li",[t._v("勾選後，應用服務部署在邊緣平台時就可指定要部署在哪個 k8s node 機台上。")])])]),t._v(" "),e("li",[e("strong",[t._v("Use Host Devices")]),t._v(" "),e("ul",[e("li",[t._v("若應用服務要使用主機的外接裝置，就必須勾選此項目。")]),t._v(" "),e("li",[t._v("勾選後，應用服務部署在邊緣平台時就可指定要部署在哪個 k8s node 機台上。")])])])]),t._v(" "),e("h2",{attrs:{id:"reverse-proxy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reverse-proxy"}},[t._v("#")]),t._v(" Reverse Proxy")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/reverseProxy.png",alt:"Reverse Proxy"}})]),t._v(" "),e("p",[t._v("容器設定好後，如果有對外開啟 WebService，可於 Reverse Proxy 頁籤設定 Public URL 指向 Container URL 的路徑。若要加入 ory 的認證機制，可針對需要認證的路徑勾選 Auth 的選項。")]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Public URL")]),t._v(" "),e("ul",[e("li",[t._v("對外的網址")]),t._v(" "),e("li",[t._v("instance name: 為網頁的 prefix。若要開啟 WebService，則系統預設為 App Name。若有其他命名需求，請通知系統管理者要使用的 instance name 為何")])])]),t._v(" "),e("li",[e("strong",[t._v("Internal URL")]),t._v(" "),e("ul",[e("li",[t._v("對應的路徑")])])])]),t._v(" "),e("h2",{attrs:{id:"authentication"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#authentication"}},[t._v("#")]),t._v(" Authentication")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/authentication.png",alt:"Authentication"}})]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("OAuth")]),t._v("：若 SaaS 應用想走 OAuth 的標準流程化，則需將 Client Secret 和 Callback URL 填至此區塊。若不填寫，OAuth 的流程將會由 CorePro 平台代勞，SaaS 無須理會這部份的流程(僅適用於 Web Application)。")]),t._v(" "),e("li",[e("strong",[t._v("Roles")]),t._v("：SaaS 應用須定義應用內所使用的角色類型。終端使用者在登入 SaaS 後，SaaS 應用會是以角色的概念進行權限管理(僅適用於 Web Application)。若都不定義，CorePro 平 台會內建三種角色，分別為 admin、manager 和 user。")])]),t._v(" "),e("h2",{attrs:{id:"high-availability"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#high-availability"}},[t._v("#")]),t._v(" High Availability")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/ha.png",alt:"High Availability"}})]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("Replica")]),t._v("：若要部署高可用性的應用，可在 Replica 欄位中填寫建議的服務數量，預設為 1。")])]),t._v(" "),e("h2",{attrs:{id:"license"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[t._v("#")]),t._v(" License")]),t._v(" "),e("p",[e("img",{attrs:{src:"/amUserGuide/img/page/container/license.png",alt:"License"}})]),t._v(" "),e("ul",[e("li",[e("strong",[t._v("License")]),t._v(" "),e("ul",[e("li",[t._v("若應用服務會做 License check，則勾選這選項")]),t._v(" "),e("li",[t._v("勾選後在部署時就會顯示系統中該應用服務 License 資訊")])])]),t._v(" "),e("li",[e("strong",[t._v("License Public Key")]),t._v(" "),e("ul",[e("li",[t._v("顯示 License Public Key 資訊供開發者使用")]),t._v(" "),e("li",[t._v("勾選 License 之後才會顯示此項目")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);