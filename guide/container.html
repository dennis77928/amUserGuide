<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Container 設定 | Application Manager 使用者操作手冊</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/amUserGuide/img/fiilogo.ico">
    <meta name="description" content="Application Manager User Guide">
    
    <link rel="preload" href="/amUserGuide/assets/css/0.styles.1117eb86.css" as="style"><link rel="preload" href="/amUserGuide/assets/js/app.c9928330.js" as="script"><link rel="preload" href="/amUserGuide/assets/js/2.d9ceb9dd.js" as="script"><link rel="preload" href="/amUserGuide/assets/js/11.c51d88f3.js" as="script"><link rel="prefetch" href="/amUserGuide/assets/js/10.9afb6052.js"><link rel="prefetch" href="/amUserGuide/assets/js/12.882a29e6.js"><link rel="prefetch" href="/amUserGuide/assets/js/13.a46fc95c.js"><link rel="prefetch" href="/amUserGuide/assets/js/14.3ad3c17f.js"><link rel="prefetch" href="/amUserGuide/assets/js/15.88d9ba9b.js"><link rel="prefetch" href="/amUserGuide/assets/js/16.963b0aec.js"><link rel="prefetch" href="/amUserGuide/assets/js/17.cf6dd376.js"><link rel="prefetch" href="/amUserGuide/assets/js/18.f88a3d3f.js"><link rel="prefetch" href="/amUserGuide/assets/js/3.55631a23.js"><link rel="prefetch" href="/amUserGuide/assets/js/4.a0e8a8e9.js"><link rel="prefetch" href="/amUserGuide/assets/js/5.abe19c6c.js"><link rel="prefetch" href="/amUserGuide/assets/js/6.03390bae.js"><link rel="prefetch" href="/amUserGuide/assets/js/7.86725276.js"><link rel="prefetch" href="/amUserGuide/assets/js/8.ba341965.js"><link rel="prefetch" href="/amUserGuide/assets/js/9.b190c020.js">
    <link rel="stylesheet" href="/amUserGuide/assets/css/0.styles.1117eb86.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/amUserGuide/" class="home-link router-link-active"><img src="/amUserGuide/img/foxconnLogo.png" alt="Application Manager 使用者操作手冊" class="logo"> <span class="site-name can-hide">Application Manager 使用者操作手冊</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/amUserGuide/" class="nav-link">
  首頁
</a></div><div class="nav-item"><a href="/amUserGuide/about.html" class="nav-link">
  關於
</a></div><div class="nav-item"><a href="https://am.corepro.com.tw" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Application Manager
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/amUserGuide/" class="nav-link">
  首頁
</a></div><div class="nav-item"><a href="/amUserGuide/about.html" class="nav-link">
  關於
</a></div><div class="nav-item"><a href="https://am.corepro.com.tw" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Application Manager
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>指南</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/amUserGuide/intro/overview.html" class="sidebar-link">Application Manager 介紹</a></li><li><a href="/amUserGuide/intro/quick_start.html" class="sidebar-link">快速入門</a></li><li><a href="/amUserGuide/intro/i18n.html" class="sidebar-link">語系</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>功能使用說明</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/amUserGuide/guide/newApp.html" class="sidebar-link">開新專案</a></li><li><a href="/amUserGuide/guide/uploadImage.html" class="sidebar-link">上傳 Image</a></li><li><a href="/amUserGuide/guide/helm.html" class="sidebar-link">專案設定與發佈</a></li><li><a href="/amUserGuide/guide/container.html" aria-current="page" class="active sidebar-link">Container 設定</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#overview" class="sidebar-link">Overview</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#description" class="sidebar-link">Description</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#containers" class="sidebar-link">Containers</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#container-name" class="sidebar-link">Container Name</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#type" class="sidebar-link">Type</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#image-and-tag" class="sidebar-link">Image and Tag</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#start-command" class="sidebar-link">Start Command</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#ports" class="sidebar-link">Ports</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#envs" class="sidebar-link">Envs</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#mounts" class="sidebar-link">Mounts</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#configs" class="sidebar-link">Configs</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#resources" class="sidebar-link">Resources</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#advance" class="sidebar-link">Advance</a></li></ul></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#reverse-proxy" class="sidebar-link">Reverse Proxy</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#authentication" class="sidebar-link">Authentication</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#high-availability" class="sidebar-link">High Availability</a></li><li class="sidebar-sub-header"><a href="/amUserGuide/guide/container.html#license" class="sidebar-link">License</a></li></ul></li><li><a href="/amUserGuide/guide/vm.html" class="sidebar-link">Virtual Machine 設定</a></li><li><a href="/amUserGuide/guide/account.html" class="sidebar-link">帳號管理</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="container-設定"><a href="#container-設定" class="header-anchor">#</a> Container 設定</h1> <p>Container 類型的 Helm 文件一共有七大區塊需要分別進行設定，分別是：
</p><div class="table-of-contents"><ul><li><a href="#overview">Overview</a></li><li><a href="#description">Description</a></li><li><a href="#containers">Containers</a></li><li><a href="#reverse-proxy">Reverse Proxy</a></li><li><a href="#authentication">Authentication</a></li><li><a href="#high-availability">High Availability</a></li><li><a href="#license">License</a></li></ul></div><p></p> <h2 id="overview"><a href="#overview" class="header-anchor">#</a> Overview</h2> <p><img src="/amUserGuide/img/page/container/overview.png" alt="overview"></p> <ul><li><strong>Version</strong>：為發佈 SaaS 應用的版號</li> <li><strong>Containers</strong>：單一專案內可包含數個鏡像檔，此處將每一個鏡像的相關設定匯整呈現。</li></ul> <h2 id="description"><a href="#description" class="header-anchor">#</a> Description</h2> <p><img src="/amUserGuide/img/page/container/description.png" alt="Description"></p> <ul><li><strong>Description</strong>：填寫有關此專案的介紹文字</li> <li><strong>Entrypoint</strong>：告知應用的進入點(Eg. https://x.x.x.x/index.html)</li> <li><strong>Icon</strong>：專案的代表圖示</li> <li><strong>Dependencies</strong>：可選取與此專案相依的其他專案及版本號</li></ul> <h2 id="containers"><a href="#containers" class="header-anchor">#</a> Containers</h2> <p>Containers 區塊的總覽如下圖，點擊 <button style="border:none;background:#3d9df8;color:white;padding:4px 16px;border-radius:3px;"> + Add Container </button> 可新增多個容器。
以下針對 Containers 的各個子項目逐一設定。</p> <p><img src="/amUserGuide/img/page/container/containers.png" alt="Containers"></p> <h3 id="container-name"><a href="#container-name" class="header-anchor">#</a> Container Name</h3> <p>容器名稱：限定英文小寫、數字和連接號 (dash)。</p> <p><img src="/amUserGuide/img/page/container/containerName.png" alt="Container Name"></p> <h3 id="type"><a href="#type" class="header-anchor">#</a> Type</h3> <p><img src="/amUserGuide/img/page/container/type_regular.png" alt="Type"></p> <ul><li>選定容器的類型，可選擇 regular 或 init。</li> <li>所有的 Helm 容器中，僅允許設置一個容器為 init 類型。</li> <li>若選定容器類型為 init，則僅需填寫以下資訊：
<img src="/amUserGuide/img/page/container/type_init.png" alt=""></li></ul> <h3 id="image-and-tag"><a href="#image-and-tag" class="header-anchor">#</a> Image and Tag</h3> <p>選定容器所使用的鏡像檔與標籤。</p> <p><img src="/amUserGuide/img/page/container/image_tag.png" alt="Image"></p> <h3 id="start-command"><a href="#start-command" class="header-anchor">#</a> Start Command</h3> <p>設定容器的啟動命令。</p> <p><img src="/amUserGuide/img/page/container/startCmd.png" alt="Start Command"></p> <h3 id="ports"><a href="#ports" class="header-anchor">#</a> Ports</h3> <p><img src="/amUserGuide/img/page/container/ports.png" alt="Ports"></p> <ul><li><p>點擊 <button style="border:3px solid #344966;background:#111f2f;color:white;padding:4px 18px;border-radius:3px;"> + Add Port </button> 新增通訊埠</p> <ul><li><p>範圍：0-65535 之間</p></li> <li><p>Protocol</p> <ul><li>Container Port：當容器對外僅允許內網其它 SaaS 應用連線時使用</li> <li>HTTP/Reverse Proxy：當容器對外通訊採用 HTTP 時使用</li> <li>HTTPS/Reverse Proxy：當容器對外通訊採用 HTTPS 時使用</li> <li>TCP：當容器對外走非 HTTP 的 TCP 協定時使用</li> <li>UDP：當容器對外走 UDP 協定時使用</li> <li>SCTP：當容器對外 SCTP 協定時使用</li></ul></li> <li><p>同 Pod 間容器溝通的路徑</p> <ul><li>預設：http://127.0.0.1:{port}</li></ul></li> <li><p>Pod 與 Pod 間溝通的路徑</p> <ul><li>預設：http://{application_name}:{port}</li> <li>例如：http://grafana:3000</li></ul></li></ul></li></ul> <h3 id="envs"><a href="#envs" class="header-anchor">#</a> Envs</h3> <p><img src="/amUserGuide/img/page/container/env.png" alt="Envs"></p> <ul><li>點擊 <button style="border:3px solid #344966;background:#111f2f;color:white;padding:4px 18px;border-radius:3px;"> + Add Env </button> 新增環境變數。</li> <li>key 值限定英文為起始字元，可使用數字、底線、連接號 (dash)、點 (dot)。</li> <li>value 值不須用引號(”)括住。</li></ul> <h3 id="mounts"><a href="#mounts" class="header-anchor">#</a> Mounts</h3> <p><img src="/amUserGuide/img/page/container/mounts.png" alt="Mounts"></p> <ul><li>點擊 <button style="border:3px solid #344966;background:#111f2f;color:white;padding:4px 18px;border-radius:3px;"> + Add Mount </button> 新增掛載路徑，亦須同時設定儲存空間的大小。</li> <li>此掛載路徑為容器內路徑。以 MySQL 為例，若要保存資料庫的資料，可以在 Mount Path 中填寫 <code>/var/lib/mysql</code>。</li> <li>此外掛硬碟設定在實作上，是當容器<strong>初次啟動</strong>時，系統建立一個<strong>新的資料夾</strong>外掛至容器內指定路徑中。當後續<strong>再次啟動</strong>時，系統會重複外掛<strong>同一個資料夾</strong>至指定路徑。</li> <li>系統預設在每個容器內建立 /podShareData 的資料夾，讓容器彼此間能共享相同的檔案。</li></ul> <h3 id="configs"><a href="#configs" class="header-anchor">#</a> Configs</h3> <p><img src="/amUserGuide/img/page/container/configs.png" alt="Configs"></p> <ul><li>點擊 <button style="border:3px solid #344966;background:#111f2f;color:white;padding:4px 18px;border-radius:3px;"> + Add Configs </button> 新增配置。</li> <li>配置的路徑為固定，僅需填入配置名稱和配置內容。</li></ul> <h3 id="resources"><a href="#resources" class="header-anchor">#</a> Resources</h3> <p><img src="/amUserGuide/img/page/container/resources.png" alt="Resources"></p> <ul><li>可設定 CPU 和 Memory 的需求值以及上限值</li> <li>Memory 的單位可透過右側的下拉式選單調整(Mi 或 Gi)</li> <li>系統預設：
<ul><li>CPU：0.-0.1 cores。Limit 值最小為 0.1 cores</li> <li>Memory：0-512 Mi。Limit 值最小為 4 Mi</li></ul></li></ul> <h3 id="advance"><a href="#advance" class="header-anchor">#</a> Advance</h3> <p><img src="/amUserGuide/img/page/container/advance.png" alt="Advance"></p> <ul><li><strong>Host GUI Application</strong> <ul><li>若應用服務是屬於 Windows GUI 應用程式，就必須勾選此項目。</li> <li>勾選後，應用服務部署在邊緣平台時就可指定要部署在哪個 k8s node 機台上。</li></ul></li> <li><strong>Use Host Devices</strong> <ul><li>若應用服務要使用主機的外接裝置，就必須勾選此項目。</li> <li>勾選後，應用服務部署在邊緣平台時就可指定要部署在哪個 k8s node 機台上。</li></ul></li></ul> <h2 id="reverse-proxy"><a href="#reverse-proxy" class="header-anchor">#</a> Reverse Proxy</h2> <p><img src="/amUserGuide/img/page/container/reverseProxy.png" alt="Reverse Proxy"></p> <p>容器設定好後，如果有對外開啟 WebService，可於 Reverse Proxy 頁籤設定 Public URL 指向 Container URL 的路徑。若要加入 ory 的認證機制，可針對需要認證的路徑勾選 Auth 的選項。</p> <ul><li><strong>Public URL</strong> <ul><li>對外的網址</li> <li>instance name: 為網頁的 prefix。若要開啟 WebService，則系統預設為 App Name。若有其他命名需求，請通知系統管理者要使用的 instance name 為何</li></ul></li> <li><strong>Internal URL</strong> <ul><li>對應的路徑</li></ul></li></ul> <h2 id="authentication"><a href="#authentication" class="header-anchor">#</a> Authentication</h2> <p><img src="/amUserGuide/img/page/container/authentication.png" alt="Authentication"></p> <ul><li><strong>OAuth</strong>：若 SaaS 應用想走 OAuth 的標準流程化，則需將 Client Secret 和 Callback URL 填至此區塊。若不填寫，OAuth 的流程將會由 CorePro 平台代勞，SaaS 無須理會這部份的流程(僅適用於 Web Application)。</li> <li><strong>Roles</strong>：SaaS 應用須定義應用內所使用的角色類型。終端使用者在登入 SaaS 後，SaaS 應用會是以角色的概念進行權限管理(僅適用於 Web Application)。若都不定義，CorePro 平 台會內建三種角色，分別為 admin、manager 和 user。</li></ul> <h2 id="high-availability"><a href="#high-availability" class="header-anchor">#</a> High Availability</h2> <p><img src="/amUserGuide/img/page/container/ha.png" alt="High Availability"></p> <ul><li><strong>Replica</strong>：若要部署高可用性的應用，可在 Replica 欄位中填寫建議的服務數量，預設為 1。</li></ul> <h2 id="license"><a href="#license" class="header-anchor">#</a> License</h2> <p><img src="/amUserGuide/img/page/container/license.png" alt="License"></p> <ul><li><strong>License</strong> <ul><li>若應用服務會做 License check，則勾選這選項</li> <li>勾選後在部署時就會顯示系統中該應用服務 License 資訊</li></ul></li> <li><strong>License Public Key</strong> <ul><li>顯示 License Public Key 資訊供開發者使用</li> <li>勾選 License 之後才會顯示此項目</li></ul></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/amUserGuide/guide/helm.html" class="prev">
        專案設定與發佈
      </a></span> <span class="next"><a href="/amUserGuide/guide/vm.html">
        Virtual Machine 設定
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/amUserGuide/assets/js/app.c9928330.js" defer></script><script src="/amUserGuide/assets/js/2.d9ceb9dd.js" defer></script><script src="/amUserGuide/assets/js/11.c51d88f3.js" defer></script>
  </body>
</html>
